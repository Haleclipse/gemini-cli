# 上游更改日志

本文档总结了从我们的分叉开始到最新上游主分支的所有更改。

## 更新历史

### 2025-07-27 更新
- **提交范围**: 9e61b351..576cebc9
- **新增提交数**: 1
- **版本**: v0.1.14

### 2025-07-26 更新
- **提交范围**: 3e81359c..9e61b351
- **新增提交数**: 1
- **版本**: v0.1.14

### 2025-07-25 更新
- **提交范围**: 1d3ad9d0..3e81359c
- **新增提交数**: 30
- **版本**: v0.1.14

### 2025-07-24 更新
- **提交范围**: 52980510..5d4b02ca
- **新增提交数**: 12
- **版本**: v0.1.14

### 2025-07-23 更新
- **提交范围**: 1de24623..0ef9c0b7
- **新增提交数**: 14
- **版本**: v0.1.14

### 2025-07-22 更新
- **提交范围**: 258c8489..7c3a8407
- **新增提交数**: 9
- **版本**: v0.1.14

### 2025-07-21 更新
- **提交范围**: 9ab44ea9..e4ed1aab
- **新增提交数**: 60
- **版本**: v0.1.13

### 2025-07-20 更新
- **提交范围**: ac8e9851..0d64355b
- **新增提交数**: 6
- **版本**: v0.1.13

### 2025-07-19 更新
- **提交范围**: 2f5eecfc..ac8e9851
- **新增提交数**: 11
- **版本**: v0.1.13

### 2025-07-18 更新
- **提交范围**: ca07b5b0..2f5eecfc
- **新增提交数**: 18
- **版本**: v0.1.13

### 2025-07-17 更新
- **提交范围**: e4ed1aab..ca07b5b0
- **新增提交数**: 16
- **版本**: v0.1.13

### 之前的更新 2025-07-17
- **提交范围**: b3cbde5c..9ab44ea9
- **新增提交数**: 66
- **版本**: v0.1.12

### 2025-07-16 更新
- **提交范围**: ddcac420..34c1b581
- **新增提交数**: 22
- **版本**: v0.1.12

### 2025-07-15 更新
- **提交范围**: b09bc665..fadc4770
- **新增提交数**: 18
- **版本**: v0.1.12

### 2025-07-14 更新
- **提交范围**: e9d680e8..ef8ec984
- **新增提交数**: 8
- **版本**: v0.1.12

### 2025-07-13 更新
- **提交范围**: b018e2d3..890982a8
- **新增提交数**: 8
- **版本**: v0.1.12

### 2025-07-12 更新
- **提交范围**: 8f12e8a1..b3cbde5c
- **新增提交数**: 15
- **版本**: v0.1.11

### 2025-07-11 更新
- **提交范围**: cdbe2fff..bf508bfd
- **新增提交数**: 15
- **版本**: v0.1.10

### 2025-07-10 更新
- **提交范围**: 5ecc1372..b7f8e136
- **新增提交数**: 4
- **版本**: v0.1.10

### 2025-07-09 更新
- **提交范围**: 9273e8dd..da50a1ee
- **新增提交数**: 24
- **版本**: v0.1.9

### 2025-07-08 更新
- **提交范围**: a4097ae6..9273e8dd
- **新增提交数**: 17
- **版本**: v0.1.9

### 2025-07-07 更新
- **提交范围**: 39d4095a..a4097ae6
- **新增提交数**: 22
- **版本**: v0.1.9

### 2025-07-06 更新
- **提交范围**: 8adc5869..39d4095a
- **新增提交数**: 9
- **版本**: v0.1.9

### 2025-07-05 更新
- **提交范围**: ef736f0d..8adc5869
- **新增提交数**: 11
- **版本**: v0.1.9

### 2025-07-04 更新
- **提交范围**: 85a1d814..ef736f0d
- **新增提交数**: 11
- **版本**: v0.1.9

### 2025-07-03 更新
- **提交范围**: 08ce78a1..85a1d814
- **新增提交数**: 5
- **版本**: v0.1.9

### 2025-07-02 更新
- **提交范围**: 58b14b7c..cd069fd4
- **新增提交数**: 13
- **版本**: v0.1.7 → v0.1.9

### 2025-07-01 更新
- **提交范围**: 5c4c833d..58b14b7c
- **新增提交数**: 17
- **版本**: v0.1.7

### 2025-06-30 更新
- **提交范围**: 4e8a6400..5c4c833d
- **新增提交数**: 22
- **版本**: v0.1.7

### 2025-06-29 更新
- **提交范围**: ad7839ea..fc21d1ca
- **新增提交数**: 15
- **版本**: v0.1.7

### 2025-06-28 更新
- **提交范围**: 6742a1b7..ad7839ea
- **新增提交数**: 19
- **版本**: v0.1.5 → v0.1.7

### 2025-06-27 更新
- **提交范围**: c55b15f7..6742a1b7
- **新增提交数**: 5

### 2025-06-26 初次同步
- **版本**: 0.1.1 → 0.1.5
- **提交范围**: 05b9b9ab..c55b15f7
- **总提交数**: 30

## 最新更改（2025-07-27）

### 🚀 Vim 模式和自定义命令增强
- **[#3936](https://github.com/google-gemini/gemini-cli/pull/3936)** - ⌨️ **Vim 模式** - 完整的 Vim 编辑器支持，包括 NORMAL/INSERT 模式切换
- **[#4917](https://github.com/google-gemini/gemini-cli/pull/4917)** - 🐚 **自定义命令 Shell 执行** - 添加自定义命令中的 Shell 命令执行功能
- **[#4907](https://github.com/google-gemini/gemini-cli/pull/4907)** - 🔗 **自定义命令符号链接支持** - 修复自定义命令跟随符号链接

### 🏗️ 核心架构改进
- **[#4823](https://github.com/google-gemini/gemini-cli/pull/4823)** - 🔧 **Shell 逻辑中心化** - 将 shell 逻辑集中到 ShellExecutionService
- **[#4831](https://github.com/google-gemini/gemini-cli/pull/4831)** - 🔒 **基于哈希的循环检测** - 实现基于哈希的循环检测机制
- **[#4795](https://github.com/google-gemini/gemini-cli/pull/4795)** - 🛡️ **更安全的 Shell 命令执行** - 改进 Shell 命令执行的安全性

### 🪟 Windows 兼容性大幅改进
- **[#4672](https://github.com/google-gemini/gemini-cli/pull/4672)** - 🪟 **Windows 预提交测试** - 在 Windows 上运行预提交测试
- **[#4889](https://github.com/google-gemini/gemini-cli/pull/4889)** - 🐛 修复 grep.test 在 Windows 上工作
- **[#4891](https://github.com/google-gemini/gemini-cli/pull/4891)** - 🐛 使 glob.test.ts 兼容 Windows
- **[#4892](https://github.com/google-gemini/gemini-cli/pull/4892)** - 🐛 使 fileDiscoveryService.test.ts 兼容 Windows
- **[#4895](https://github.com/google-gemini/gemini-cli/pull/4895)** - 🐛 使 oauth2 测试兼容 Windows
- **[#4873](https://github.com/google-gemini/gemini-cli/pull/4873)** - 🐛 使 restoreCommand 测试兼容 Windows
- **[#4868](https://github.com/google-gemini/gemini-cli/pull/4868)** - 🐛 修复 userStartupWarnings 兼容 Windows
- **[#4858](https://github.com/google-gemini/gemini-cli/pull/4858)** - 🐛 使 shell.test.ts 兼容 Windows
- **[#4766](https://github.com/google-gemini/gemini-cli/pull/4766)** - 🐛 使 useCompletion.test.ts 兼容 Windows
- **[#4856](https://github.com/google-gemini/gemini-cli/pull/4856)** - 🐛 使 errorReporting 测试兼容 Windows
- **[#4864](https://github.com/google-gemini/gemini-cli/pull/4864)** - 🐛 修复 read-file.test.ts 兼容 Windows
- **[#4684](https://github.com/google-gemini/gemini-cli/pull/4684)** - 🐛 修复 atCommandProcessor.ts 中的 Windows 错误

### 🔧 MCP 服务器提示和 IDE 增强
- **[#4828](https://github.com/google-gemini/gemini-cli/pull/4828)** - 📝 **MCP 服务器提示作为斜杠命令** - 加载并使用 MCP 服务器提示作为 CLI 中的斜杠命令
- **[#4797](https://github.com/google-gemini/gemini-cli/pull/4797)** - 🏢 **IDE 管理器类** - 创建 IDE 管理器类来处理连接和暴露 IDE 服务器方法
- **[#4902](https://github.com/google-gemini/gemini-cli/pull/4902)** - 🔧 **IDE 连接清理** - 修复 IDE 连接失败时清理传输
- **[#4761](https://github.com/google-gemini/gemini-cli/pull/4761)** - 🔧 **VS Code 扩展重构** - VS Code 伴侣扩展代码的小幅重构
- **[#4729](https://github.com/google-gemini/gemini-cli/pull/4729)** - 📚 **扩展文档优化** - 发布前优化伴侣扩展 README 和 package.json

### 🎨 用户体验改进
- **[#4733](https://github.com/google-gemini/gemini-cli/pull/4733)** - 🕐 **聊天列表时间戳** - 在 /chat list 中显示时间戳
- **[#3990](https://github.com/google-gemini/gemini-cli/pull/3990)** - 🧹 **启动屏幕清理** - 从启动屏幕移除多余的空白
- **[#4417](https://github.com/google-gemini/gemini-cli/pull/4417)** - 🛡️ **更优雅的错误处理** - 更优雅地处理未处理的拒绝
- **[#4757](https://github.com/google-gemini/gemini-cli/pull/4757)** - 🎨 **旧版主题兼容** - 修复旧版自定义主题仍能加载

### 🔧 认证和工具改进
- **[#4811](https://github.com/google-gemini/gemini-cli/pull/4811)** - 🔐 **非交互式 GCP 认证增强** - 增强非交互式 GCP 认证
- **[#4887](https://github.com/google-gemini/gemini-cli/pull/4887)** - 🐛 **拖放文件修复** - 修复破坏文件拖放的错误
- **[#4575](https://github.com/google-gemini/gemini-cli/pull/4575)** - 🔧 **partUtils 模块** - 添加带单元测试的 partUtils 模块

### 📚 文档更新
- **[#4950](https://github.com/google-gemini/gemini-cli/pull/4950)** - 📝 **添加 --prompt-interactive 文档** - 添加缺失的 --prompt-interactive/-i 标志文档
- **[#2004](https://github.com/google-gemini/gemini-cli/pull/2004)** - 📝 **认证文档更新** - 在 authentication.md 中添加 API 密钥和 .gemini/.env 的说明

### 🔍 日志和监控改进
- **[#4700](https://github.com/google-gemini/gemini-cli/pull/4700)** - 📊 **Flash 继续日志** - 记录 flash 继续
- **[#4698](https://github.com/google-gemini/gemini-cli/pull/4698)** - 📊 **Flash 模型决定日志** - 当 flash 模型决定继续时记录
- **[#4765](https://github.com/google-gemini/gemini-cli/pull/4765)** - 🆔 **循环检测提示 ID** - 检测到循环时记录提示 ID

### 🚀 版本发布
- **[#3a224d49](https://github.com/google-gemini/gemini-cli/commit/3a224d49)** - 🎉 **发布 v0.1.14** - 包含 Vim 模式、Windows 兼容性改进和众多增强功能

## 之前的更改（2025-07-21）

### 🚀 重大功能发布
- **[#4515](https://github.com/google-gemini/gemini-cli/pull/4515)** - 🎉 **发布 v0.1.13** - 包含 IDE 集成、后台代理、自定义主题等重要功能
- **[#4407](https://github.com/google-gemini/gemini-cli/pull/4407)** - ✨ **后台命令支持** - 添加 /background 命令（需要配置后台代理）
- **[#4409](https://github.com/google-gemini/gemini-cli/pull/4409)** - 🎬 **后台代理演示** - 展示后台代理功能

### 🔧 IDE 模式和文件管理增强
- **[#4463](https://github.com/google-gemini/gemini-cli/pull/4463)** - 📁 **IDE 模式文件追踪** - 跟踪最近打开的文件并发送给 CLI
- **[#4470](https://github.com/google-gemini/gemini-cli/pull/4470)** - 🎯 **IDE 文件显示优化** - 在输入框上方的上下文区域显示 IDE 打开文件
- **[#4329](https://github.com/google-gemini/gemini-cli/pull/4329)** - 📡 **IDE 连接保持** - IDE 模式每 30 秒发送 ping 防止客户端关闭连接
- **[#4312](https://github.com/google-gemini/gemini-cli/pull/4312)** - 📝 **活动文件集成** - 将活动文件添加到用户模型请求中

### 🔧 核心架构和性能改进
- **[#4511](https://github.com/google-gemini/gemini-cli/pull/4511)** - 🏗️ **命令服务重构** - 为可扩展命令进行命令服务预重构
- **[#4337](https://github.com/google-gemini/gemini-cli/pull/4337)** - 🤖 **AI 循环检测** - 使用 LLM 实现循环检测
- **[#3288](https://github.com/google-gemini/gemini-cli/pull/3288)** - ⚡ **异步文件检测** - 使文件类型检测和二进制检查异步化

### 🎨 用户体验和 UI 改进  
- **[#2639](https://github.com/google-gemini/gemini-cli/pull/2639)** - 🎨 **自定义主题逻辑** - 功能完整的自定义主题逻辑
- **[#4012](https://github.com/google-gemini/gemini-cli/pull/4012)** - 👁️ **光标隐藏** - 终端失焦时隐藏光标
- **[#4462](https://github.com/google-gemini/gemini-cli/pull/4462)** - 🎯 **命令补全改进** - 基于光标位置改进命令补全触发逻辑
- **[#4396](https://github.com/google-gemini/gemini-cli/pull/4396)** - ☀️ **浅色主题改进** - 浅色主题色彩改进

### 🔧 新命令和工具
- **[#3706](https://github.com/google-gemini/gemini-cli/pull/3706)** - 📋 **复制命令** - 使用新命令服务方法添加 /copy 命令用于复制输出到剪贴板
- **[#3727](https://github.com/google-gemini/gemini-cli/pull/3727)** - 🚫 **.geminiignore 支持** - 在设置和相应工具调用中完整实现 .geminiignore
- **[#4419](https://github.com/google-gemini/gemini-cli/pull/4419)** - 🐕 **迁移 /corgi** - 将 /corgi 命令迁移到新架构
- **[#4388](https://github.com/google-gemini/gemini-cli/pull/4388)** - 🔄 **迁移恢复命令** - 迁移恢复命令到新架构

### 🛠️ 开发者工具和集成
- **[#4266](https://github.com/google-gemini/gemini-cli/pull/4266)** - 🟢 **Zed 集成** - 添加 Zed 编辑器集成支持
- **[#3680](https://github.com/google-gemini/gemini-cli/pull/3680)** - 📝 **Zed 编辑器检测** - 如果未找到 zed 二进制文件则检查 zeditor
- **[#4542](https://github.com/google-gemini/gemini-cli/pull/4542)** - ⚠️ **根目录警告** - 在根目录调用 gemini-cli 时添加警告
- **[#2526](https://github.com/google-gemini/gemini-cli/pull/2526)** - 🌐 **显式代理选项** - 在 CLI 中添加显式代理选项

### 🐛 修复和改进
- **[#4479](https://github.com/google-gemini/gemini-cli/pull/4479)** - ⏪ **回滚后台代理提交** - 回滚后台代理相关提交
- **[#4475](https://github.com/google-gemini/gemini-cli/pull/4475)** - 🔄 **非交互环境检测** - 自动检测非交互环境并回退到手动基于代码的认证流程
- **[#4440](https://github.com/google-gemini/gemini-cli/pull/4440)** - 📊 **显示拒绝的确认代码差异** - 显示被拒绝的确认代码差异
- **[#4469](https://github.com/google-gemini/gemini-cli/pull/4469)** - 🐚 **Shell 输出一致性** - 使 shell 输出保持一致
- **[#4377](https://github.com/google-gemini/gemini-cli/pull/4377)** - ⬆️⬇️ **历史记录导航修复** - 修复仅有一个建议时允许上下箭头切换历史记录
- **[#4374](https://github.com/google-gemini/gemini-cli/pull/4374)** - 🛠️ **退出快捷键回归修复** - 修复命令迁移导致的退出快捷键回归

### 🔐 认证和安全改进
- **[#4316](https://github.com/google-gemini/gemini-cli/pull/4316)** - 🔐 **MCP OAuth 基础架构** - MCP OAuth 第一部分 - OAuth 基础架构
- **[#3532](https://github.com/google-gemini/gemini-cli/pull/3532)** - 🐳 **Docker OAuth 支持** - 增强 OAuth 回调以实现强大的 Docker 支持
- **[#4052](https://github.com/google-gemini/gemini-cli/pull/4052)** - 📦 **本地运行更新检测** - 本地运行 gemini-cli 时不显示更新可用消息

### 🔧 MCP 和扩展改进
- **[#4514](https://github.com/google-gemini/gemini-cli/pull/4514)** - ⏱️ **MCP 服务器超时扩展** - 扩展 mcp-server 超时时间
- **[#4508](https://github.com/google-gemini/gemini-cli/pull/4508)** - 💬 **简化 MCP 连接错误** - 简化 MCP 连接错误消息
- **[#4459](https://github.com/google-gemini/gemini-cli/pull/4459)** - 🛠️ **MCP 工具名称简化** - 尽可能使用简单的 MCP 工具名称
- **[#3977](https://github.com/google-gemini/gemini-cli/pull/3977)** - 📊 **启动摘要** - 启动时总结扩展和 MCP 服务器
- **[#3409](https://github.com/google-gemini/gemini-cli/pull/3409)** - 📝 **MCP 工具文档** - 为 mcp excludeTools 和 includeTools 添加文档

### 🔧 构建和发布改进
- **[#4428](https://github.com/google-gemini/gemini-cli/pull/4428)** - 🛠️ **修复发布和 e2e 工作流** - 修复损坏的发布和 e2e 工作流
- **[#3501](https://github.com/google-gemini/gemini-cli/pull/3501)** - 📦 **依赖完整性** - 为所有依赖项添加缺失的 `resolved` 和 `integrity`
- **[#4287](https://github.com/google-gemini/gemini-cli/pull/4287)** - 🧪 **测试/添加 loadcodeassist 模拟** - 测试中添加 loadcodeassist 模拟
- **[#4296](https://github.com/google-gemini/gemini-cli/pull/4296)** - 📋 **ESLint 更新** - 更新 ESLint 和相关包到最新版本

### 🐛 Bug 修复
- **[#3550](https://github.com/google-gemini/gemini-cli/pull/3550)** - 🔤 **修复拼写错误** - 修复各种文件中的拼写错误
- **[#3417](https://github.com/google-gemini/gemini-cli/pull/3417)** - 🛠️ **防止 GitIgnoreParser 错误** - 防止根路径的 GitIgnoreParser 中的 RangeError
- **[#3999](https://github.com/google-gemini/gemini-cli/pull/3999)** - 💥 **修复 ANSI 转义崩溃** - 修复文本缓冲区中的 ANSI 转义崩溃
- **[#4382](https://github.com/google-gemini/gemini-cli/pull/4382)** - ⚠️ **companionPort 警告** - 将 companionPort 不存在更新为警告，以便用户仍可继续运行 /ide install
- **[#4362](https://github.com/google-gemini/gemini-cli/pull/4362)** - 📊 **记录表面字段** - 在 start_session_event 中记录表面字段以及会话信息
- **[#4162](https://github.com/google-gemini/gemini-cli/pull/4162)** - 🔄 **上下文百分比更新** - 运行 /clear 命令时更新上下文百分比
- **[#4348](https://github.com/google-gemini/gemini-cli/pull/4348)** - 🔄 **修复循环计数重置** - 修复每隔一个事件重置循环计数的问题
- **[#4304](https://github.com/google-gemini/gemini-cli/pull/4304)** - 📖 **修复检查点文档链接** - 修复 `--checkpointing` 的检查点文档链接
- **[#4176](https://github.com/google-gemini/gemini-cli/pull/4176)** - 🔄 **更新 google/genai** - 更新 google/genai 到 v1.9.0 并切换到 parametersJsonSchema 用于 MCP 相关工具
- **[#4289](https://github.com/google-gemini/gemini-cli/pull/4289)** - 🗑️ **移除 gaxios 依赖** - 移除直接的 gaxios 依赖
- **[#4320](https://github.com/google-gemini/gemini-cli/pull/4320)** - 🔢 **选择列表添加数字** - 为选择列表添加数字
- **[#4397](https://github.com/google-gemini/gemini-cli/pull/4397)** - 🎯 **完美匹配命令执行** - 允许在完美匹配时执行命令

## 之前的更改（2025-07-17）

### 🔧 斜杠命令架构重构
- **[#4259](https://github.com/google-gemini/gemini-cli/pull/4259)** - 🔧 将 `/quit` 更新到新的斜杠命令架构
- **[#4246](https://github.com/google-gemini/gemini-cli/pull/4246)** - 🔧 将 `/bug` 更新到新的斜杠命令架构
- **[#4153](https://github.com/google-gemini/gemini-cli/pull/4153)** - 🔧 将 `/editor` 更新到新的斜杠命令架构
- **[#4236](https://github.com/google-gemini/gemini-cli/pull/4236)** - 🔧 将 `/tools` 更新到新的斜杠命令架构
- **[#4133](https://github.com/google-gemini/gemini-cli/pull/4133)** - 🔧 将 `/docs` 更新到新的斜杠命令架构
- **[#3678](https://github.com/google-gemini/gemini-cli/pull/3678)** - 🔧 将 MCP 斜杠命令迁移到新系统
- **[#4271](https://github.com/google-gemini/gemini-cli/pull/4271)** - 🔧 迁移 compress 命令
- **[#4229](https://github.com/google-gemini/gemini-cli/pull/4229)** - 🔧 将 `/extensions` 更新到新的斜杠命令架构
- **[#4146](https://github.com/google-gemini/gemini-cli/pull/4146)** - 🔧 将 `/stats` 更新到新的斜杠命令架构
- **[#4207](https://github.com/google-gemini/gemini-cli/pull/4207)** - 🔧 迁移 /about
- **[#4202](https://github.com/google-gemini/gemini-cli/pull/4202)** - 🔧 将 /privacy 迁移到新架构
- **[#3797](https://github.com/google-gemini/gemini-cli/pull/3797)** - 🔧 将 '/auth' 更新到新的斜杠命令架构

### 🔧 IDE 集成和扩展支持
- **[#4331](https://github.com/google-gemini/gemini-cli/pull/4331)** - 🔧 IDE 伴侣服务器的小幅重构
- **[#4265](https://github.com/google-gemini/gemini-cli/pull/4265)** - ✨ 添加 /ide status 和 /ide install 命令来管理 IDE 集成
- **[#4311](https://github.com/google-gemini/gemini-cli/pull/4311)** - 🎨 IDE 模式的小幅 UX 更新
- **[#4254](https://github.com/google-gemini/gemini-cli/pull/4254)** - 📦 在构建/发布中包含配套 VS Code 扩展 VSIX
- **[#4308](https://github.com/google-gemini/gemini-cli/pull/4308)** - ⏪ 撤销 "[ide-mode] 将活动文件通过系统提示"
- **[#4264](https://github.com/google-gemini/gemini-cli/pull/4264)** - 🔧 [ide-mode] 将活动文件通过系统提示
- **[#4255](https://github.com/google-gemini/gemini-cli/pull/4255)** - 🔧 在 VSCode 扩展中动态设置端口并从中读取
- **[#4241](https://github.com/google-gemini/gemini-cli/pull/4241)** - 📦 上传配套 VS Code 扩展的 VSIX
- **[#4147](https://github.com/google-gemini/gemini-cli/pull/4147)** - 🔧 [ide-mode] 当活动文件更改时流式通知
- **[#4154](https://github.com/google-gemini/gemini-cli/pull/4154)** - 🎨 将用户在 IDE 中的活动文件添加到页脚
- **[#3927](https://github.com/google-gemini/gemini-cli/pull/3927)** - 🚩 为 IDE 集成添加功能标志
- **[#3917](https://github.com/google-gemini/gemini-cli/pull/3917)** - ✨ 引入 VSCode 伴侣扩展

### 🔧 模型和性能改进
- **[#4176](https://github.com/google-gemini/gemini-cli/pull/4176)** - 🔧 更新 google/genai 到 v1.9.0 并切换到 parametersJsonSchema 用于 MCP 相关工具
- **[#4256](https://github.com/google-gemini/gemini-cli/pull/4256)** - 🚀 在后台运行模型可用性检查以加速启动
- **[#4016](https://github.com/google-gemini/gemini-cli/pull/4016)** - 🐛 修复不使用 flash 进行下一个说话者检查
- **[#4009](https://github.com/google-gemini/gemini-cli/pull/4009)** - 🔧 **[工具]**: 集中化 shell 工具摘要
- **[#3095](https://github.com/google-gemini/gemini-cli/pull/3095)** - 🔧 **[工具]**: 按字母顺序排序工具列表以获得确定性输出

### 🎯 用户体验和 UI 改进
- **[#1729](https://github.com/google-gemini/gemini-cli/pull/1729)** - 🔧 **[cli]**: 在不执行命令时，CTRL+C 清除输入缓冲区
- **[#2857](https://github.com/google-gemini/gemini-cli/pull/2857)** - 🔧 重构：优化 "/chat list" 和 "/chat resume" 的显示信息
- **[#4227](https://github.com/google-gemini/gemini-cli/pull/4227)** - 🔧 改进斜杠命令中的 altName 完成行为
- **[#2233](https://github.com/google-gemini/gemini-cli/pull/2233)** - 🔧 更新 MaxSizedBox.tsx
- **[#4006](https://github.com/google-gemini/gemini-cli/pull/4006)** - 🔧 **功能**: 在 RadioButtonSelect 中反转滚动箭头默认值
- **[#4002](https://github.com/google-gemini/gemini-cli/pull/4002)** - 🔧 **功能**: 添加 GEMINI_DEFAULT_AUTH_TYPE 支持
- **[#2803](https://github.com/google-gemini/gemini-cli/pull/2803)** - 🔧 **[cli]**: 添加 hideBanner 设置以禁用启动横幅

### 🔧 工具和功能增强
- **[#4135](https://github.com/google-gemini/gemini-cli/pull/4135)** - 🔧 在设置中添加对允许/排除 MCP 服务器名称的支持
- **[#4140](https://github.com/google-gemini/gemini-cli/pull/4140)** - 🔧 仅在 settings.json 中明确设置时启用工具摘要
- **[#4158](https://github.com/google-gemini/gemini-cli/pull/4158)** - 🔧 使 @ 命令排序文件时不带扩展名
- **[#4193](https://github.com/google-gemini/gemini-cli/pull/4193)** - 🔧 记录 2 种类型的循环检测
- **[#3919](https://github.com/google-gemini/gemini-cli/pull/3919)** - 🔧 引入循环检测服务以打破简单循环
- **[#4064](https://github.com/google-gemini/gemini-cli/pull/4064)** - 🔧 重新添加对用 \ 字符转义换行的支持

### 🐛 修复和改进
- **[#4144](https://github.com/google-gemini/gemini-cli/pull/4144)** - 🐛 **[检查点]**: 防止静默失败并为非 Git 项目启用
- **[#4141](https://github.com/google-gemini/gemini-cli/pull/4141)** - 🐛 不要用函数响应开始未压缩历史记录
- **[#4150](https://github.com/google-gemini/gemini-cli/pull/4150)** - 🐛 修复 telemetry 日志记录中的循环引用 JSON 序列化
- **[#4163](https://github.com/google-gemini/gemini-cli/pull/4163)** - 🔧 纯重构：合并 isWithinRoot() 函数调用
- **[#4049](https://github.com/google-gemini/gemini-cli/pull/4049)** - 🔧 在调试模式下显示 mcp 服务器的 stderr 输出
- **[#4240](https://github.com/google-gemini/gemini-cli/pull/4240)** - 🔧 在 header 中包含 api key 而不是在 URL 中

### 📝 文档和发布改进
- **[#4178](https://github.com/google-gemini/gemini-cli/pull/4178)** - 📋 路线图发布
- **[#4051](https://github.com/google-gemini/gemini-cli/pull/4051)** - 📝 为 /extensions 命令添加文档
- **[#3381](https://github.com/google-gemini/gemini-cli/pull/3381)** - 🐛 修复 markdown 标题级别问题
- **[#3781](https://github.com/google-gemini/gemini-cli/pull/3781)** - 🐛 **[docs]**: 在 readme 中澄清全局安装
- **[#2763](https://github.com/google-gemini/gemini-cli/pull/2763)** - 🐛 修复：在 README 中标准化 "Troubleshooting Guide" 的大小写
- **[#4249](https://github.com/google-gemini/gemini-cli/pull/4249)** - 🔧 chore: 更新 release-docker.yaml 中的编号
- **[#4025](https://github.com/google-gemini/gemini-cli/pull/4025)** - 🐛 修复 docker release yaml 使用正确的命令
- **[#4023](https://github.com/google-gemini/gemini-cli/pull/4023)** - 🔧 chore(release): v0.1.12

### 🔧 其他改进
- **[#4252](https://github.com/google-gemini/gemini-cli/pull/4252)** - ⏪ 撤销 "更新到 yargs v18 (#3759)"
- **[#4244](https://github.com/google-gemini/gemini-cli/pull/4244)** - ⏪ 撤销 Node <20 警告
- **[#3371](https://github.com/google-gemini/gemini-cli/pull/3371)** - 🔧 **功能**: 如果用户使用 node -v <20 则添加警告 #2930
- **[#3759](https://github.com/google-gemini/gemini-cli/pull/3759)** - 🔧 更新到 yargs v18
- **[#3880](https://github.com/google-gemini/gemini-cli/pull/3880)** - 🔧 重构 MCP 代码以供重用和测试
- **[#3885](https://github.com/google-gemini/gemini-cli/pull/3885)** - 🐛 **[core]**: 使注释掉的测试可工作
- **[#3985](https://github.com/google-gemini/gemini-cli/pull/3985)** - 🐛 **[auth]**: 移除无头认证的尖锐边缘

## 之前的更改（2025-07-16）

### 🔧 斜杠命令迁移继续
- **[#4133](https://github.com/google-gemini/gemini-cli/pull/4133)** - 🔧 将 `/docs` 更新到新的斜杠命令架构
- **[#3678](https://github.com/google-gemini/gemini-cli/pull/3678)** - 🔧 将 MCP 斜杠命令迁移到新系统
- **[#4271](https://github.com/google-gemini/gemini-cli/pull/4271)** - 🔧 迁移 compress 命令
- **[#4229](https://github.com/google-gemini/gemini-cli/pull/4229)** - 🔧 将 `/extensions` 更新到新的斜杠命令架构
- **[#4146](https://github.com/google-gemini/gemini-cli/pull/4146)** - 🔧 将 `/stats` 更新到新的斜杠命令架构

### 🎯 性能和用户体验改进
- **[#4256](https://github.com/google-gemini/gemini-cli/pull/4256)** - 🚀 在后台运行模型可用性检查以加速启动
- **[#1729](https://github.com/google-gemini/gemini-cli/pull/1729)** - 🔧 在不执行命令时，CTRL+C 清除输入缓冲区
- **[#2857](https://github.com/google-gemini/gemini-cli/pull/2857)** - 🔧 重构：优化 "/chat list" 和 "/chat resume" 的显示信息
- **[#4227](https://github.com/google-gemini/gemini-cli/pull/4227)** - 🔧 改进斜杠命令中的 altName 完成行为

### 🔧 IDE 和工具改进
- **[#4264](https://github.com/google-gemini/gemini-cli/pull/4264)** - 🔧 [ide-mode] 将活动文件通过系统提示
- **[#4255](https://github.com/google-gemini/gemini-cli/pull/4255)** - 🔧 在 VSCode 扩展中动态设置端口并从中读取
- **[#4135](https://github.com/google-gemini/gemini-cli/pull/4135)** - 🔧 在设置中添加对允许/排除 MCP 服务器名称的支持
- **[#3095](https://github.com/google-gemini/gemini-cli/pull/3095)** - 🔧 按字母顺序排序工具列表以获得确定性输出
- **[#4140](https://github.com/google-gemini/gemini-cli/pull/4140)** - 🔧 仅在 settings.json 中明确设置时启用工具摘要

### 🔧 发布和修复
- **[#4249](https://github.com/google-gemini/gemini-cli/pull/4249)** - 🔧 更新 release-docker.yaml 中的编号
- **[#4241](https://github.com/google-gemini/gemini-cli/pull/4241)** - 📦 上传配套 VS Code 扩展的 VSIX
- **[#4252](https://github.com/google-gemini/gemini-cli/pull/4252)** - ⏪ 撤销 "更新到 yargs v18"
- **[#4244](https://github.com/google-gemini/gemini-cli/pull/4244)** - ⏪ 撤销 Node <20 警告
- **[#4240](https://github.com/google-gemini/gemini-cli/pull/4240)** - 🔧 在 header 中包含 api key 而不是在 URL 中

## 之前的更改（2025-07-15）

### 🚀 重要功能发布
- **[#4178](https://github.com/google-gemini/gemini-cli/pull/4178)** - 📋 **路线图发布**
- **[#3919](https://github.com/google-gemini/gemini-cli/pull/3919)** - 🔧 **引入循环检测服务**以打破简单循环
- **[#3927](https://github.com/google-gemini/gemini-cli/pull/3927)** - 🚩 为 IDE 集成添加功能标志

### 🔧 斜杠命令和架构改进
- **[#4207](https://github.com/google-gemini/gemini-cli/pull/4207)** - 🔧 迁移 /about
- **[#4202](https://github.com/google-gemini/gemini-cli/pull/4202)** - 🔧 将 /privacy 迁移到新架构
- **[#3797](https://github.com/google-gemini/gemini-cli/pull/3797)** - 🔧 将 '/auth' 更新到新的斜杠命令架构
- **[#4163](https://github.com/google-gemini/gemini-cli/pull/4163)** - 🔧 纯重构：合并 isWithinRoot() 函数调用

### 🔧 工具和修复改进
- **[#4154](https://github.com/google-gemini/gemini-cli/pull/4154)** - 🎨 将用户在 IDE 中的活动文件添加到页脚
- **[#4158](https://github.com/google-gemini/gemini-cli/pull/4158)** - 🔧 使 @ 命令排序文件时不带扩展名
- **[#4150](https://github.com/google-gemini/gemini-cli/pull/4150)** - 🐛 修复 telemetry 日志记录中的循环引用 JSON 序列化
- **[#4144](https://github.com/google-gemini/gemini-cli/pull/4144)** - 🐛 防止检查点静默失败并为非 Git 项目启用
- **[#4141](https://github.com/google-gemini/gemini-cli/pull/4141)** - 🐛 不要用函数响应开始未压缩历史记录

### 📝 文档改进
- **[#2763](https://github.com/google-gemini/gemini-cli/pull/2763)** - 🐛 修复：在 README 中标准化 "Troubleshooting Guide" 的大小写
- **[#3781](https://github.com/google-gemini/gemini-cli/pull/3781)** - 🐛 在 readme 中澄清全局安装

### 🔧 依赖和版本管理
- **[#3371](https://github.com/google-gemini/gemini-cli/pull/3371)** - 🔧 如果用户使用 node -v <20 则添加警告
- **[#3759](https://github.com/google-gemini/gemini-cli/pull/3759)** - 🔧 更新到 yargs v18
- **[#3880](https://github.com/google-gemini/gemini-cli/pull/3880)** - 🔧 重构 MCP 代码以供重用和测试

## 之前的更改（2025-07-14）

### ✨ 新功能和扩展
- **[#3917](https://github.com/google-gemini/gemini-cli/pull/3917)** - ✨ **引入 VSCode 伴侣扩展**
- **[#2803](https://github.com/google-gemini/gemini-cli/pull/2803)** - 🔧 **添加 hideBanner 设置**以禁用启动横幅
- **[#4064](https://github.com/google-gemini/gemini-cli/pull/4064)** - 🔧 重新添加对用 \ 字符转义换行的支持

### 📝 文档和帮助改进
- **[#4051](https://github.com/google-gemini/gemini-cli/pull/4051)** - 📝 为 /extensions 命令添加文档
- **[#3381](https://github.com/google-gemini/gemini-cli/pull/3381)** - 🐛 修复 markdown 标题级别问题
- **[#4092](https://github.com/google-gemini/gemini-cli/pull/4092)** - 🔧 修复 Makefile 中构建目标的重复帮助文本

### 🔧 调试和开发改进
- **[#4049](https://github.com/google-gemini/gemini-cli/pull/4049)** - 🔧 在调试模式下显示 mcp 服务器的 stderr 输出
- **[#4093](https://github.com/google-gemini/gemini-cli/pull/4093)** - 🐛 修复：纠正容器发布流水线并提高健壮性

## 之前的更改（2025-07-13）

### 🚀 版本发布和核心改进
- **[#4023](https://github.com/google-gemini/gemini-cli/pull/4023)** - 🔧 **chore(release): v0.1.12**
- **[#4016](https://github.com/google-gemini/gemini-cli/pull/4016)** - 🐛 修复不使用 flash 进行下一个说话者检查
- **[#4009](https://github.com/google-gemini/gemini-cli/pull/4009)** - 🔧 **集中化 shell 工具摘要**

### 🎯 用户体验增强
- **[#4006](https://github.com/google-gemini/gemini-cli/pull/4006)** - 🔧 在 RadioButtonSelect 中反转滚动箭头默认值
- **[#4002](https://github.com/google-gemini/gemini-cli/pull/4002)** - 🔧 **添加 GEMINI_DEFAULT_AUTH_TYPE 支持**

### 🐛 修复和清理
- **[#4025](https://github.com/google-gemini/gemini-cli/pull/4025)** - 🐛 修复 docker release yaml 使用正确的命令
- **[#3985](https://github.com/google-gemini/gemini-cli/pull/3985)** - 🐛 移除无头认证的尖锐边缘
- **[#3885](https://github.com/google-gemini/gemini-cli/pull/3885)** - 🐛 使注释掉的测试可工作

## 之前的更改（2025-07-11）

### 🔧 错误处理和日志改进
- **[#3863](https://github.com/google-gemini/gemini-cli/pull/3863)** - 🔧 为客户层级添加适当的 429/配额错误消息检查
- **[#3864](https://github.com/google-gemini/gemini-cli/pull/3864)** - 🔧 移除调试模式下的额外日志记录
- **[#3867](https://github.com/google-gemini/gemini-cli/pull/3867)** - 🔧 不打印 MCP 服务器日志，太嘈杂了

### ⚙️ 新功能和配置
- **[#3507](https://github.com/google-gemini/gemini-cli/pull/3507)** - 🔧 **添加通过设置配置指定 maxSessionTurns 的支持**
- **[#3713](https://github.com/google-gemini/gemini-cli/pull/3713)** - 🔧 添加 NO_BROWSER 环境变量以触发离线 oauth 流程
- **[#2476](https://github.com/google-gemini/gemini-cli/pull/2476)** - 🔧 为 node < 20 添加括号粘贴支持的解决方案

### 📝 文档更新
- **[#3852](https://github.com/google-gemini/gemini-cli/pull/3852)** - 📝 修正 CONTRIBUTING.md 中的拼写错误
- **[#3042](https://github.com/google-gemini/gemini-cli/pull/3042)** - 📝 更新认证文档显示如何在 GCP 中使用 API 密钥
- **[#3380](https://github.com/google-gemini/gemini-cli/pull/3380)** - 📝 在多文件工具文档中包含视频和音频
- **[#3348](https://github.com/google-gemini/gemini-cli/pull/3348)** - 🐛 修复认证文档中的拼写错误

### 🔧 依赖管理和 CLI 改进
- **[#3834](https://github.com/google-gemini/gemini-cli/pull/3834)** - 🔧 将 @google/genai 固定到 1.8.0 版本
- **[#2388](https://github.com/google-gemini/gemini-cli/pull/2388)** - 🔧 移除未使用的 ink-text-input 依赖
- **[#3703](https://github.com/google-gemini/gemini-cli/pull/3703)** - 🔧 在帮助输出中缩进子命令
- **[#3741](https://github.com/google-gemini/gemini-cli/pull/3741)** - 🧹 清理：移除重复的指南提示

### 🚀 发布改进
- **[#3749](https://github.com/google-gemini/gemini-cli/pull/3749)** - 🔧 chore(release): v0.1.10

## 之前的更改（2025-07-10）

### 🐛 修复和改进
- **[#3672](https://github.com/google-gemini/gemini-cli/pull/3672)** - 🐛 修复无效的 docker 命令和 mcpServers 示例中的无效 JSON
- **[#3747](https://github.com/google-gemini/gemini-cli/pull/3747)** - 🐛 修复 grep.test.ts 的补丁
- **[#3744](https://github.com/google-gemini/gemini-cli/pull/3744)** - ⏪ 撤销 "fix: Use Email for Clearcut Logging and Refactor User Info Fetching"
- **[#3620](https://github.com/google-gemini/gemini-cli/pull/3620)** - 🐛 修复：使用 Email 进行 Clearcut 日志记录并重构用户信息获取

## 之前的更改（2025-07-08）

### 🔧 依赖管理和质量提升
- **[#3557](https://github.com/google-gemini/gemini-cli/pull/3557)** - 🔧 修复 shell-quote 版本
- **[#2972](https://github.com/google-gemini/gemini-cli/pull/2972)** - 🤖 添加 Dependabot 配置
- **[#2992](https://github.com/google-gemini/gemini-cli/pull/2992)** - 🔐 添加 CodeQL 分析
- **[#3511](https://github.com/google-gemini/gemini-cli/pull/3511)** - 🐛 修复夜间发布
- **[#3500](https://github.com/google-gemini/gemini-cli/pull/3500)** - 📝 添加通用使用信息到 --help 消息
- **[#3093](https://github.com/google-gemini/gemini-cli/pull/3093)** - 🚀 在分叉仓库中禁用计划任务

### 🔧 CLI 改进和标准化
- **[#3541](https://github.com/google-gemini/gemini-cli/pull/3541)** - 🔧 **标志标准化**: 统一所有标志使用连字符（弃用下划线标志）
- **[#3191](https://github.com/google-gemini/gemini-cli/pull/3191)** - 🔧 添加命令行选项以启用和列出扩展
- **[#3560](https://github.com/google-gemini/gemini-cli/pull/3560)** - 🔧 遵守 DEBUG 和 CLI_TITLE 环境变量
- **[#3545](https://github.com/google-gemini/gemini-cli/pull/3545)** - 🐛 不强制前导斜杠，因为这在 Windows 上不成立
- **[#3506](https://github.com/google-gemini/gemini-cli/pull/3506)** - 🐛 修复 Windows 上 start.js 的无限循环

### 🔐 认证和验证改进
- **[#3235](https://github.com/google-gemini/gemini-cli/pull/3235)** - 🔐 **认证修复**: 不盲目默认使用 API 密钥认证
- **[#3568](https://github.com/google-gemini/gemini-cli/pull/3568)** - 🐛 修复模型检查中的错误请求
- **[#1381](https://github.com/google-gemini/gemini-cli/pull/1381)** - 🔧 改进认证环境变量验证逻辑和消息
- **[#2881](https://github.com/google-gemini/gemini-cli/pull/2881)** - 🔧 改进函数调用参数验证和类型定义

### 🎯 性能和体验优化
- **[#3049](https://github.com/google-gemini/gemini-cli/pull/3049)** - 🗜️ 压缩时保留最近历史记录
- **[#2707](https://github.com/google-gemini/gemini-cli/pull/2707)** - 🎨 将执行时间格式化为分钟、秒

### 🔧 MCP 改进和认证增强（2025-07-07）
- **[#3489](https://github.com/google-gemini/gemini-cli/pull/3489)** - 📦 发布和打包清理
- **[#3070](https://github.com/google-gemini/gemini-cli/pull/3070)** - 🔐 **Cloud Shell 支持**: 让 Gemini CLI 在 Cloud Shell 中重用用户认证
- **[#3060](https://github.com/google-gemini/gemini-cli/pull/3060)** - 📝 更新 README 显示 Vertex 的 API 密钥使用
- **[#3483](https://github.com/google-gemini/gemini-cli/pull/3483)** - 🚀 在启动时初始化 MCP 工具，而非每次认证时
- **[#3469](https://github.com/google-gemini/gemini-cli/pull/3469)** - 🔧 重命名 allowed_mcp_server_names 为 allowed-mcp-server-names
- **[#3464](https://github.com/google-gemini/gemini-cli/pull/3464)** - 🔧 添加 --allowed_mcp_server_names 标志
- **[#2976](https://github.com/google-gemini/gemini-cli/pull/2976)** - 🔧 为 mcpServers 配置添加 excludeTools 和 includeTools
- **[#3175](https://github.com/google-gemini/gemini-cli/pull/3175)** - 💫 **斜杠命令重构**: 重构斜杠命令 + 未来愿景

### 🐛 修复和改进
- **[#3493](https://github.com/google-gemini/gemini-cli/pull/3493)** - 🐛 修复认证对话框中的双 "esc" 错误
- **[#3491](https://github.com/google-gemini/gemini-cli/pull/3491)** - 📝 修复拼写错误并添加认证验证测试
- **[#2919](https://github.com/google-gemini/gemini-cli/pull/2919)** - 🔧 防止 Tab 自动执行不完整的斜杠命令
- **[#3043](https://github.com/google-gemini/gemini-cli/pull/3043)** - 🐛 修复 EditTool 可能覆盖同一文件的人工编辑
- **[#3360](https://github.com/google-gemini/gemini-cli/pull/3360)** - 🔧 重新启用 shell 工具中的反引号使用
- **[#3229](https://github.com/google-gemini/gemini-cli/pull/3229)** - 🎨 添加 .svg 支持
- **[#3387](https://github.com/google-gemini/gemini-cli/pull/3387)** - 🐛 @file 不遵守 config respectGitIgnore=false
- **[#3362](https://github.com/google-gemini/gemini-cli/pull/3362)** - 🐛 修复表格标题和行的嵌套 markdown 渲染
- **[#3416](https://github.com/google-gemini/gemini-cli/pull/3416)** - 🔧 在 settings.json 变量替换中遵守 .env 的环境变量
- **[#3349](https://github.com/google-gemini/gemini-cli/pull/3349)** - 📝 改进 isCommandAllowed 中的错误消息

### 🎯 新功能和重要修复（2025-07-06）
- **[#3367](https://github.com/google-gemini/gemini-cli/pull/3367)** - 🚀 **YOLO模式**: 在 /help 中显示 YOLO 模式快捷键
- **[#3056](https://github.com/google-gemini/gemini-cli/pull/3056)** - ⚠️ 添加用户启动警告和主目录检查
- **[#3339](https://github.com/google-gemini/gemini-cli/pull/3339)** - 📦 更新 @google/genai 到 1.8.0
- **[#2883](https://github.com/google-gemini/gemini-cli/pull/2883)** - 🔧 处理工具调度器中的内联内容修改
- **[#2932](https://github.com/google-gemini/gemini-cli/pull/2932)** - 🐛 修复 #2922: 防止在 shell 模式中 @ 连接到有效路径
- **[#3300](https://github.com/google-gemini/gemini-cli/pull/3300)** - 🔧 清理工具参数以修复 400 API 错误
- **[#3335](https://github.com/google-gemini/gemini-cli/pull/3335)** - 🧹 清理发布提示
- **[#3321](https://github.com/google-gemini/gemini-cli/pull/3321)** - 📦 发布：清理和精简
- **[#3333](https://github.com/google-gemini/gemini-cli/pull/3333)** - 🐛 分组取消的工具调用响应以防止 API 错误

### 🚀 Node.js 20 升级和发布改进（2025-07-05）
- **[#3277](https://github.com/google-gemini/gemini-cli/pull/3277)** - 📦 **重要**: 更新最低 Node.js 版本要求到 20
- **[#3247](https://github.com/google-gemini/gemini-cli/pull/3247)** - 📝 更新 README 要求 Node.js 20+
- **[#3264](https://github.com/google-gemini/gemini-cli/pull/3264)** - 🔏 签名夜间发布提交
- **[#3254](https://github.com/google-gemini/gemini-cli/pull/3254)** - 🔏 签名标签
- **[#3206](https://github.com/google-gemini/gemini-cli/pull/3206)** - 📦 夜间发布标签格式化
- **[#3285](https://github.com/google-gemini/gemini-cli/pull/3285)** - 🔧 添加 nohup 支持
- **[#3183](https://github.com/google-gemini/gemini-cli/pull/3183)** - 📝 修复小拼写错误
- **[#3284](https://github.com/google-gemini/gemini-cli/pull/3284)** - 📝 修复多个文件中的拼写错误
- **[#3203](https://github.com/google-gemini/gemini-cli/pull/3203)** - 📝 修复拼写错误
- **[#2862](https://github.com/google-gemini/gemini-cli/pull/2862)** - 📝 修复 deployment.md 中的命令使用问题
- **[#3167](https://github.com/google-gemini/gemini-cli/pull/3167)** - 🔧 更新问题模板使用 GitHub alert

### 🚀 发布自动化和技术改进（2025-07-04）
- **[#3204](https://github.com/google-gemini/gemini-cli/pull/3204)** - 📦 新增夜间发布标签格式化
- **[#3202](https://github.com/google-gemini/gemini-cli/pull/3202)** - 🔧 修复夜间发布标签
- **[#2852](https://github.com/google-gemini/gemini-cli/pull/2852)** - 🚀 添加发布自动化流程和GitHub Actions
- **[#2652](https://github.com/google-gemini/gemini-cli/pull/2652)** - 🧮 重构文本缓冲区使用reducer模式
- **[#3128](https://github.com/google-gemini/gemini-cli/pull/3128)** - 📝 为核心工具方法添加和改进JSDoc注释
- **[#3147](https://github.com/google-gemini/gemini-cli/pull/3147)** - 🆔 修复Google用户ID传递给Clearcut
- **[#2118](https://github.com/google-gemini/gemini-cli/pull/2118)** - ⚙️ 修复客户端在flashFallbackHandler中获取模型配置
- **[#2491](https://github.com/google-gemini/gemini-cli/pull/2491)** - 🎯 显示Ctrl+S快捷键展开调试控制台
- **[#3100](https://github.com/google-gemini/gemini-cli/pull/3100)** - 🎨 修复ANSI主题蓝色显示
- **[#2781](https://github.com/google-gemini/gemini-cli/pull/2781)** - 🧹 移除不必要的空白字符
- **[#2722](https://github.com/google-gemini/gemini-cli/pull/2722)** - 📝 修复CONTRIBUTING.md中的拼写错误

### 🎯 UI和工作流改进（2025-07-03）
- **[#3082](https://github.com/google-gemini/gemini-cli/pull/3082)**, **[#3062](https://github.com/google-gemini/gemini-cli/pull/3062)** - 🔄 新增自动化PR分类工作流
- **[#3061](https://github.com/google-gemini/gemini-cli/pull/3061)** - 📝 修复README中的拼写错误
- **[#3035](https://github.com/google-gemini/gemini-cli/pull/3035)** - 🔔 更新通知模板
- **[#2892](https://github.com/google-gemini/gemini-cli/pull/2892)** - ⌨️ 添加Shift+Tab快捷键提示

### 🎉 版本发布 v0.1.9（2025-07-02）

#### 重大功能更新
- **[#2556](https://github.com/google-gemini/gemini-cli/pull/2556)** - 🎵 **多媒体支持**: 为 read_file 添加音频和视频支持
- **[#2793](https://github.com/google-gemini/gemini-cli/pull/2793)** - 🔄 **无限循环保护**: 为客户端添加无限循环保护机制
- **[#2886](https://github.com/google-gemini/gemini-cli/pull/2886)** - 🆔 **会话支持**: 在 API 调用中添加 session_id 支持
- **[#2853](https://github.com/google-gemini/gemini-cli/pull/2853)** - 🛠️ **扩展增强**: 为扩展添加 excludedTools 功能

#### 用户体验改进
- **[#2904](https://github.com/google-gemini/gemini-cli/pull/2904)** - 🏷️ `/chat` 命令现在需要必填标签
- **[#2776](https://github.com/google-gemini/gemini-cli/pull/2776)** - 💬 改进斜杠命令自动完成逻辑
- **[#2898](https://github.com/google-gemini/gemini-cli/pull/2898)** - 🗜️ 降低历史记录压缩的阈值

#### Bug 修复
- **[#2504](https://github.com/google-gemini/gemini-cli/pull/2504)** - 🐛 修复文本缓冲区中字符丢失的问题
- **[#2902](https://github.com/google-gemini/gemini-cli/pull/2902)** - 📝 为 TypeScript 文件特殊处理 MIME 类型

#### 文档更新
- **[#2894](https://github.com/google-gemini/gemini-cli/pull/2894)** - 📖 **新文档**: 添加详细说明配额和成本信息的页面
- **[#2729](https://github.com/google-gemini/gemini-cli/pull/2729)** - 📝 更新 README.md

#### 其他改进
- **[#2906](https://github.com/google-gemini/gemini-cli/pull/2906)** - 📦 升级版本到 0.1.9
- **[#2860](https://github.com/google-gemini/gemini-cli/pull/2860)** - 🔧 在 gemini.tsx 中使用常量占位符替代 ".gemini/settings.json"

## 之前的更改（2025-07-01）

### 新功能和改进
- **[#2855](https://github.com/google-gemini/gemini-cli/pull/2855)** - 🎯 添加每周社区报告工作流
- **[#1955](https://github.com/google-gemini/gemini-cli/pull/1955)** - 📊 添加 Markdown 表格渲染支持
- **[#2771](https://github.com/google-gemini/gemini-cli/pull/2771)** - ✨ 重构退出统计显示界面
- **[#2747](https://github.com/google-gemini/gemini-cli/pull/2747)** - 🗜️ 使用结构化提示进行压缩

### 身份验证和认证改进
- **[#2769](https://github.com/google-gemini/gemini-cli/pull/2769)** - 🔧 重命名 AuthType：LOGIN_WITH_GOOGLE_PERSONAL → LOGIN_WITH_GOOGLE
- **[#2402](https://github.com/google-gemini/gemini-cli/pull/2402)** - 📝 澄清环境文件发现机制和推荐配置

### Bug 修复
- **[#2794](https://github.com/google-gemini/gemini-cli/pull/2794)** - 🐛 修复 Ink6 + React19 迁移导致的 MaxSizedBox 无效子元素日志问题
- **[#1990](https://github.com/google-gemini/gemini-cli/pull/1990)** - 🔧 使清理脚本跨平台兼容
- **[#2762](https://github.com/google-gemini/gemini-cli/pull/2762)** - 🔗 在文档中使用 HTTPS 并修复故障排除指南格式错误
- **[#2712](https://github.com/google-gemini/gemini-cli/pull/2712)** - 🔧 修复 CODE_ASSIST_ENDPOINT 环境变量

### 工作流和自动化改进
- **[#2778](https://github.com/google-gemini/gemini-cli/pull/2778)** - 🤖 改进自动化问题分类工作流
- **[#2759](https://github.com/google-gemini/gemini-cli/pull/2759)** - 🔧 在分类工作流中使用预览版本的 gemini-cli
- **[#2749](https://github.com/google-gemini/gemini-cli/pull/2749)** - 📋 向自动分类工作流添加问题列表命令
- **[#2746](https://github.com/google-gemini/gemini-cli/pull/2746)** - 🔄 将问题分类分离为两个工作流

### 代码清理和优化
- **[#2772](https://github.com/google-gemini/gemini-cli/pull/2772)** - 📦 更新检查和测试优化
- **[#2721](https://github.com/google-gemini/gemini-cli/pull/2721)** - 🧹 移除未使用的方法
- **[#2761](https://github.com/google-gemini/gemini-cli/pull/2761)** - 🧹 移除 gaia id 日志记录的回退逻辑

## 之前的更改（2025-06-30）

### 主要功能更新
- **[#2709](https://github.com/google-gemini/gemini-cli/pull/2709)** - 🔐 修复 OAuth 凭证缓存问题
- **[#2653](https://github.com/google-gemini/gemini-cli/pull/2653)** - 🛠️ 为 shell 命令启用前缀匹配以实现灵活的命令验证
- **[#2615](https://github.com/google-gemini/gemini-cli/pull/2615)** - 📊 改进 /stats 命令显示更详细的统计信息
- **[#2477](https://github.com/google-gemini/gemini-cli/pull/2477)** - 🌐 添加对远程 MCP 服务器自定义 HTTP 头的支持
- **[#1524](https://github.com/google-gemini/gemini-cli/pull/1524)** - 💡 添加 hideTips 设置选项

### 用户界面改进
- **[#2507](https://github.com/google-gemini/gemini-cli/pull/2507)** - ✨ 高亮显示之前的用户输入
- **[#2043](https://github.com/google-gemini/gemini-cli/pull/2043)** - 🔧 修复不同操作系统的换行键组合显示
- **[#2230](https://github.com/google-gemini/gemini-cli/pull/2230)** - 📝 模块化 GEMINI.md 导入功能（@file.md 语法）

### 安全与配置
- **[#2605](https://github.com/google-gemini/gemini-cli/pull/2605)** - 🔧 允许对 ShellTool 进行特定命令限制
- **[#2572](https://github.com/google-gemini/gemini-cli/pull/2572)** - 📄 添加 .editorconfig 配置文件

### 文档更新
- **[#1985](https://github.com/google-gemini/gemini-cli/pull/1985)** - 📖 添加卸载说明到 README
- **[#1448](https://github.com/google-gemini/gemini-cli/pull/1448)** - 🎨 添加 Neovim 编辑器支持
- **[#2495](https://github.com/google-gemini/gemini-cli/pull/2495)** - 📝 澄清 .gemini/config.yaml 是用于 PR 审查机器人（非 CLI）
- **[#2592](https://github.com/google-gemini/gemini-cli/pull/2592)** - 🔧 修复认证设置文档标题问题

### Bug 修复与优化
- **[#2463](https://github.com/google-gemini/gemini-cli/pull/2463)** - 🔧 修复 EditTool 中出现次数的复数形式
- **[#1875](https://github.com/google-gemini/gemini-cli/pull/1875)** - 🛠️ 修复 clearcut-logger.ts 中的事件名称
- **[#2574](https://github.com/google-gemini/gemini-cli/pull/2574)** - 🔄 重构：移除不必要的 "await"
- **[#2579](https://github.com/google-gemini/gemini-cli/pull/2579)** - 🔄 重构：移除不必要的断言
- **[#1846](https://github.com/google-gemini/gemini-cli/pull/1846)** - 🔄 重构：移除重复导入
- **[#1840](https://github.com/google-gemini/gemini-cli/pull/1840)** - 🔄 重构：使用 for...of 循环替代传统 for 循环

## 之前的更改（2025-06-29）

### 新功能和增强
- **[#2114](https://github.com/google-gemini/gemini-cli/pull/2114)** - 📦 新增：Shades of Purple 主题
- **[#2299](https://github.com/google-gemini/gemini-cli/pull/2299)** - ✨ 新增：VSCodium 编辑器支持
- **[#2527](https://github.com/google-gemini/gemini-cli/pull/2527)** - 🔧 修复：在错误状态下按 Esc 退出隐私屏幕

### Bug 修复和改进
- **[#2030](https://github.com/google-gemini/gemini-cli/pull/2030)** - 🛠️ 移除：删除不可操作但数量众多的调试日志
- **[#2478](https://github.com/google-gemini/gemini-cli/pull/2478)** - 🔧 修复："修改流程"临时文件的文件扩展名
- **[#2306](https://github.com/google-gemini/gemini-cli/pull/2306)** - 🔧 修复：编辑重新触发
- **[#2344](https://github.com/google-gemini/gemini-cli/pull/2344)** - 🔧 chore：为 grep 工具中的匹配添加适当的复数处理

### 文档更新
- **[#2459](https://github.com/google-gemini/gemini-cli/pull/2459)** - 📝 文档：修复拼写错误和语法错误
- **[#1790](https://github.com/google-gemini/gemini-cli/pull/1790)** - 📝 文档：删除 file-system.md 中的重复工具描述
- **[#2229](https://github.com/google-gemini/gemini-cli/pull/2229)** - 📝 添加：关于 CI 环境变量的故障排除说明
- **[#1487](https://github.com/google-gemini/gemini-cli/pull/1487)** - 📝 修复：纠正 create_alias.sh 中的启动脚本引用

### 开发和工作流改进
- **[#2496](https://github.com/google-gemini/gemini-cli/pull/2496)** - 🔧 chore(gha)：将问题分类工作流固定到特定提交
- **[#2254](https://github.com/google-gemini/gemini-cli/pull/2254)** - 🔄 重新启用：Gemini Code Assist PR 审查机器人
- **[#1709](https://github.com/google-gemini/gemini-cli/pull/1709)** - 🔧 内联：在源代码中内联 shell 工具的描述和架构

## 之前的更改（2025-06-28）

### 主要版本更新

#### 重大技术升级
- **[#2096](https://github.com/google-gemini/gemini-cli/pull/2096)** - **重大更改**: 升级至 Ink 6 和 React 19
  - 这是一个重大技术栈升级，可能影响性能和兼容性

#### 新功能
- **[#2059](https://github.com/google-gemini/gemini-cli/pull/2059)** - 添加隐私声明斜杠命令
- **[#1972](https://github.com/google-gemini/gemini-cli/pull/1972)** - 处理输入提示的 stdin，使用 readline 进行转义字符解析
- **[#2130](https://github.com/google-gemini/gemini-cli/pull/2130)** - 更新认证标签以包含 AI Studio
- **[#2112](https://github.com/google-gemini/gemini-cli/pull/2112)** - 在 about 消息中添加当前认证方法和 GCP 项目配置
- **[#2310](https://github.com/google-gemini/gemini-cli/pull/2310)** - 使用 Gemini CLI 添加问题分类
- **[#1152](https://github.com/google-gemini/gemini-cli/pull/1152)** - 为保存的检查点文件使用 2 空格缩进 (#1977)

#### Bug 修复和改进
- **[#2304](https://github.com/google-gemini/gemini-cli/pull/2304)** - 在工具调用不正确的情况下更新错误处理
- **[#2302](https://github.com/google-gemini/gemini-cli/pull/2302)** - 修复：添加缺失的 gaxios 依赖
- **[#2246](https://github.com/google-gemini/gemini-cli/pull/2246)** - 修复循环依赖
- **[#1961](https://github.com/google-gemini/gemini-cli/pull/1961)** - 优化回退消息，提供更多选项
- **[#2029](https://github.com/google-gemini/gemini-cli/pull/2029)** - 进一步明确需要项目 ID 的情况
- **[#2239](https://github.com/google-gemini/gemini-cli/pull/2239)** - 静默 dotenv 日志消息

#### 版本更新
- **[#2308](https://github.com/google-gemini/gemini-cli/pull/2308)** - chore: 升级到 0.1.8
- **[#2285](https://github.com/google-gemini/gemini-cli/pull/2285)** - chore: 升级到 0.1.6

#### 文档和修复
- **[#1629](https://github.com/google-gemini/gemini-cli/pull/1629)** - 修复拼写错误
- **[#1555](https://github.com/google-gemini/gemini-cli/pull/1555)** - chore: 修复 mcp-client 中的拼写错误
- **[#2314](https://github.com/google-gemini/gemini-cli/pull/2314)** - 改进分类提示
- **[#1480](https://github.com/google-gemini/gemini-cli/pull/1480)** - 修复拼写错误和格式问题

## 之前的更改（2025-06-27）

### 2025-06-26（新增）

#### 功能更新
- **[#2019](https://github.com/google-gemini/gemini-cli/pull/2019)** - 为缺少子命令的情况添加明确的错误消息
- **[#2037](https://github.com/google-gemini/gemini-cli/pull/2037)** - 更新首次用户消息以提及产品名称（Gemini CLI）

#### Bug 修复
- **[#1983](https://github.com/google-gemini/gemini-cli/pull/1983)** - **回滚**: 撤销 "feat: Add model selection logic (#1678)"
  - 撤销了之前的模型自动选择功能

#### 开发改进
- **[#2032](https://github.com/google-gemini/gemini-cli/pull/2032)** - 在 package.json 文件中添加 repository 字段
- **[#2052](https://github.com/google-gemini/gemini-cli/pull/2052)** - 添加 prepublishOnly 检查

## 初次同步时的更改记录（2025-06-26）

### 2025-06-25

#### 功能更新
- **[#1527](https://github.com/google-gemini/gemini-cli/pull/1527)** - 改进模型回退消息，使其更准确反映实际情况
- **[#1574](https://github.com/google-gemini/gemini-cli/pull/1574)** - **重大更改**: 将 "Login with Google Workspace" 合并到 "Login with Google"
- **[#1595](https://github.com/google-gemini/gemini-cli/pull/1595)** - 提示用户在创建新问题前搜索现有问题
- **[#1608](https://github.com/google-gemini/gemini-cli/pull/1608)** - 使用 YAML 表单简化问题提交流程
- **[#1653](https://github.com/google-gemini/gemini-cli/pull/1653)** - 修复检查点恢复时的历史记录问题

#### Bug 修复
- **[#1405](https://github.com/google-gemini/gemini-cli/pull/1405)** - 修复不稳定的测试
- **[#1579](https://github.com/google-gemini/gemini-cli/pull/1579)** - OAuth 用户的 429 错误重试次数从 3 次减少到 2 次
- **[#1668](https://github.com/google-gemini/gemini-cli/pull/1668)** - 修复 429 错误处理机制
- **[#1688](https://github.com/google-gemini/gemini-cli/pull/1688)** - 修复认证对话框中的文档链接
- **[#1752](https://github.com/google-gemini/gemini-cli/pull/1752)** - 添加 Node.js 版本检查（要求 18.0.0+）

#### 文档更新
- **[#1501](https://github.com/google-gemini/gemini-cli/pull/1501)** - 在 bug 报告模板中添加登录方法信息
- **[#1534](https://github.com/google-gemini/gemini-cli/pull/1534)** - 修复检查点文档中的配置说明
- **[#1571](https://github.com/google-gemini/gemini-cli/pull/1571)** - **新增**: 服务条款和隐私政策文档
- **[#1625](https://github.com/google-gemini/gemini-cli/pull/1625)** - 更新文档并添加 FAQ 部分
- **[#1632](https://github.com/google-gemini/gemini-cli/pull/1632)** - 更新 README.md
- **[#1636](https://github.com/google-gemini/gemini-cli/pull/1636)** - 更新使用统计文档
- **[#1664](https://github.com/google-gemini/gemini-cli/pull/1664)** - 更新 LICENSE 文件

#### 其他更改
- **[#1578](https://github.com/google-gemini/gemini-cli/pull/1578)** - 对提示进行小的样式调整

### 2025-06-26

#### 功能更新
- **[#1645](https://github.com/google-gemini/gemini-cli/pull/1645)** - 改进 LoadCodeAssist 错误处理
- **[#1678](https://github.com/google-gemini/gemini-cli/pull/1678)** - **新功能**: 添加智能模型选择逻辑（Pro/Flash 自动切换）
- **[#1697](https://github.com/google-gemini/gemini-cli/pull/1697)** - 添加发布触发器配置

#### Bug 修复
- **[#1451](https://github.com/google-gemini/gemini-cli/pull/1451)** - 添加登录问题的故障排除说明
- **[#1488](https://github.com/google-gemini/gemini-cli/pull/1488)** - 修复 npx 命令中的 GitHub 仓库 URL
- **[#1557](https://github.com/google-gemini/gemini-cli/pull/1557)** - 修复 ClearcutLogger 中的 Promise 拒绝处理
- **[#1739](https://github.com/google-gemini/gemini-cli/pull/1739)** - 移除测试中不必要的 mock
- **[#1780](https://github.com/google-gemini/gemini-cli/pull/1780)** - 修复主题文档中的断链

#### 文档更新
- **[#1681](https://github.com/google-gemini/gemini-cli/pull/1681)** - 更新 geminiChat.ts 注释
- **[#1781](https://github.com/google-gemini/gemini-cli/pull/1781)** - 修复文档中的多个拼写错误

#### 其他更改
- **[#1540](https://github.com/google-gemini/gemini-cli/pull/1540)** - 修复注释中的拼写错误
- **[#1731](https://github.com/google-gemini/gemini-cli/pull/1731)** - **版本升级**: 0.1.5

## 重要更改总结

### 最新更新（2025-06-27）
- **模型选择功能已回滚** - 之前添加的自动模型切换功能被撤销
- **改进用户体验** - 添加了更清晰的错误消息和产品名称提示
- **开发流程改进** - 添加了发布前检查和 repository 字段

### 初次同步时的更改（2025-06-26）

#### 1. 破坏性更改
- 认证流程简化：移除了单独的 "Login with Google Workspace" 选项

#### 2. 新功能
- ~~智能模型选择：自动在 Gemini Pro 和 Flash 之间切换~~（已在 2025-06-27 回滚）
- 服务条款和隐私政策文档
- YAML 格式的问题提交表单

### 3. 性能和稳定性改进
- 优化 429 错误处理
- 改进错误消息和用户引导
- 修复多个测试稳定性问题

### 4. 开发者体验
- 强制 Node.js 18.0.0+ 要求
- 改进的文档和故障排除指南
- 更好的错误处理和日志记录

## 迁移指南

### 对于使用 Google Workspace 账户的用户
- 不再需要选择单独的 "Login with Google Workspace" 选项
- 直接使用 "Login with Google" 登录
- 通过设置 `GOOGLE_CLOUD_PROJECT` 环境变量来指定项目

### 对于开发者
- 确保使用 Node.js 18.0.0 或更高版本
- 更新任何依赖于旧认证流程的代码
- 查看新的隐私政策文档了解数据使用政策